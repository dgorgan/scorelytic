#!/usr/bin/env sh
pnpm run check:all

if find ./shared -type f -name '*.js' | grep -v node_modules | grep -v 'dist/' | grep -q .; then
  echo '‚ùå JS artifacts found in shared/. Push blocked.'
  find ./shared -type f -name '*.js' | grep -v node_modules | grep -v 'dist/'
  exit 1
fi